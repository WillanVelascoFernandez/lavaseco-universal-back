model Branch {
  id          Int       @id @default(autoincrement())
  name        String    @unique
  address     String?
  phone       String?
  
  // Machines in this branch
  washers     Washer[]
  dryers      Dryer[]
  
  // Assigned users
  users       UserBranch[]

  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @default(now()) @updatedAt @map("updated_at")

  @@map("branches")
}

// Pivot table (Many-to-Many Bridge)
model UserBranch {
  userId      Int      @map("user_id")
  branchId    Int      @map("branch_id")
  
  user        User     @relation(fields: [userId], references: [id])
  branch      Branch   @relation(fields: [branchId], references: [id])

  @@id([userId, branchId])
  @@map("users_branches")
}
